{"version":3,"sources":["store/userSlice.tsx","store/store.ts","Pages/SignIn.tsx","Pages/SignUp.tsx","hooks/use-auth.tsx","PhotoList/PhotoForm.tsx","PhotoList/Like.tsx","PhotoList/Photo.tsx","PhotoList/PhotoList.tsx","Pages/Homepage.tsx","Pages/NotFound.tsx","Layout/Navbar.tsx","Layout/Layout.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["initialState","user_id","localStorage","getItem","email","token","userSlice","createSlice","name","reducers","setUser","state","action","payload","id","setItem","removeUser","removeItem","actions","store","configureStore","reducer","user","userReducer","SignIn","useForm","mode","register","handleSubmit","errors","formState","navigate","useNavigate","dispatch","useDispatch","useState","setEmail","password","setPassword","api_errors","setApiErrors","onSubmit","a","axios","post","process","response","data","replace","error","Form","className","Group","Label","Control","required","type","value","onChange","e","target","Button","variant","SignUp","password_confirmation","setPasswordConfirmation","useAuth","useSelector","isAuth","PhotoForm","props","setName","Blob","image","setImage","formData","FormData","append","headers","updatePhotoList","console","log","message","files","Like","liked","setLiked","photo","likes_count","like_count","setLikeCount","useEffect","get","then","status","catch","onLike","onUnlike","delete","onClick","Photo","window","confirm","deletePhoto","size","src","PhotoList","photos","setPhotos","params","useParams","getPhotos","getHeaders","reverse","updatePhotoListAfterDelete","_photos","photoIndex","indexOf","splice","unshift","map","Homepage","NotFound","Navbar","to","Layout","App","path","element","index","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b4ca967.chunk.js","sourcesContent":["import {createSlice} from '@reduxjs/toolkit'\nimport {IUserSliceState} from '../types/data'\n\nconst initialState: IUserSliceState = {\n  user_id: localStorage.getItem('user_id') ? localStorage.getItem('user_id') : null,\n  email: null,\n  token: localStorage.getItem('token') ? localStorage.getItem('token') : null ,\n}\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser(state, action) {\n      state.user_id = action.payload.id;\n      state.email = action.payload.email;\n      state.token = action.payload.token;\n\n      localStorage.setItem(\"user_id\", state.user_id || '')\n      localStorage.setItem(\"token\", state.token || '')\n    },\n    removeUser(state) {\n      state.user_id = null;\n      state.email = null;\n      state.token = null;\n\n      localStorage.removeItem(\"user_id\")\n      localStorage.removeItem(\"token\")\n    }\n  }\n})\n\nexport const {setUser, removeUser} = userSlice.actions\n\nexport default userSlice.reducer","import {configureStore} from \"@reduxjs/toolkit\";\nimport userReducer from './userSlice'\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer\n  }\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch","import { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\n\nimport { setUser } from '../store/userSlice'\n\ntype IError = {\n  response: {\n    data: {\n      error: string\n    }\n  }\n}\n\nexport function SignIn() {\n  const { \n    register, \n    handleSubmit,\n    formState: { errors }\n  } = useForm({\n    mode: \"onBlur\"\n  });\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [api_errors, setApiErrors] = useState<string>('');\n\n  const onSubmit = async () => {\n    try {\n      const response = await axios\n        .post(process.env.REACT_APP_API_URL + '/users/sign_in', {\n          user: {\n            email,\n            password\n          },\n        })\n      \n      const data = response.data\n\n      dispatch(setUser({\n        id: data.user.id,\n        email: data.user.email,\n        token: data.token\n      }))\n      \n      navigate('/', {replace: true})\n    } catch (e: any) {\n      setApiErrors(e.response.data.error)\n    }\n  } \n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)} className=\"Own-form\">\n      <Form.Group className=\"Error-label\">\n        {api_errors}\n      </Form.Group>\n    \n      <Form.Group className=\"mb-3\">\n        <Form.Label className=\"form-label\">Email</Form.Label>\n        <Form.Control\n          {...register(\"email\", {\n            required: true,\n          })}\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          className=\"form-control\"\n        />\n        <Form.Group className=\"Error-label\">\n          {errors?.email?.type === \"required\" && <p>This field is required</p>}\n        </Form.Group>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label className=\"form-label\">Password</Form.Label>\n        <Form.Control\n          {...register(\"password\", {\n            required: true,\n          })}\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          className=\"form-control\"\n        />\n        <Form.Group className=\"Error-label\">\n          {errors?.password?.type === \"required\" && <p>This field is required</p>}\n        </Form.Group>\n      </Form.Group>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n","import { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { setUser } from '../store/userSlice'\nimport { Button, Form } from 'react-bootstrap';\n\nexport function SignUp() {\n  const { \n    register, \n    handleSubmit,\n    formState: { errors }\n  } = useForm({\n    mode: \"onBlur\"\n  });\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  const [email, setEmail] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n  const [password_confirmation, setPasswordConfirmation] = useState<string>('') \n  const [api_errors, setApiErrors] = useState<string>('');\n\n  const onSubmit = async () => {\n    try {\n      const response = await axios\n        .post(process.env.REACT_APP_API_URL + '/users/', {\n          user: {\n            email,\n            password,\n            password_confirmation\n          },\n        })\n\n      const data = response.data\n      \n      dispatch(setUser({\n        id: data.user.id,\n        email: data.user.email,\n        token: data.token\n      }))\n\n      navigate('/', {replace: true})\n    } catch(error: any) {\n      setApiErrors(error.response.data.error)\n    }\n  }\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)} className=\"Own-form\">\n      <Form.Group className=\"Error-label\">\n        {api_errors}\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label className=\"form-label\">Email</Form.Label>\n        <Form.Control\n          {...register(\"email\", {\n            required: true,\n          })}\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          className=\"form-control\"\n        />\n        <Form.Group className=\"Error-label\">\n          {errors?.email?.type === \"required\" && <p>Email is required</p>}\n        </Form.Group>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label className=\"form-label\">Password</Form.Label>\n        <Form.Control\n          {...register(\"password\", {\n            required: true,\n          })}\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          className=\"form-control\"\n        />\n        <Form.Group className=\"Error-label\">\n          {errors?.password?.type === \"required\" && <p>Password is required</p>}\n        </Form.Group>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label className=\"form-label\">Password confirmation</Form.Label>\n        <Form.Control\n          type=\"password\"\n          name=\"password_confirmation\"\n          value={password_confirmation}\n          onChange={e => setPasswordConfirmation(e.target.value)}\n          className=\"form-control\"\n        />\n      </Form.Group>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from '../store/store'\n\nexport function useAuth() {\n  const {user_id, email, token} = useSelector((state: RootState) => state.user)\n\n  return {\n    isAuth: !!token,\n    user_id,\n    email,\n    token\n  }\n}","import { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useAuth } from '../hooks/use-auth';\n\nexport const PhotoForm = (props: any) => {\n  const {isAuth} = useAuth();\n\n  const { \n    register, \n    handleSubmit,\n    formState: { errors }\n  } = useForm({\n    mode: \"onBlur\"\n  });\n\n  const [name, setName] = useState<string>('');\n  const [image, setImage] = useState<Blob>(new Blob());\n  \n  const getHeaders = () => {\n    return { \n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    }\n  }\n\n  const onSubmit = async () => {\n    const formData = new FormData()\n\n    formData.append('name', name)\n    formData.append('image', image)\n\n    try {\n      const response = await axios\n        .post(process.env.REACT_APP_API_URL + '/api/v1/photos', formData,  \n          { headers: getHeaders() }\n        )\n  \n      props.updatePhotoList(response.data)\n     \n    } catch(error: any) {\n      console.log(error.response.message)\n    } \n  }\n\n  return (\n    <div>\n      {\n        isAuth ? (\n          <Form onSubmit={handleSubmit(onSubmit)} className=\"Own-form\">\n          <Form.Label className=\"form-label\">\n            Name\n            <Form.Control\n              {...register(\"name\", {\n                required: true,\n              })}\n              id=\"name_input\"\n              className=\"form-control\"\n              type=\"text\"\n              name=\"name\"\n              onChange={e => setName(e.target.value)}\n            />\n          </Form.Label>\n          \n          <Form.Group className=\"Error-label\">\n              {errors?.name?.type === \"required\" && <p>This field is required</p>}\n          </Form.Group>\n\n          <Form.Label className=\"form-label\">\n            <Form.Control\n              {...register(\"image\", {\n                required: true,\n              })}\n              id=\"image_input\"\n              className=\"form-control\"\n              type=\"file\"\n              name=\"image\"\n              onChange={(e: any) => {\n                if (!e.target.files) return;\n                setImage((e.target.files[0]));\n              }}\n            />\n          </Form.Label><br/><br/>\n\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        </Form>\n        ) : (\n          <>\n          </>\n        )\n      }\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { RiThumbUpLine, RiThumbUpFill } from 'react-icons/ri';\nimport axios from 'axios';\n\nexport function Like(props: any) {\n  const [liked, setLiked] = useState(false)\n  const [like_count, setLikeCount] = useState(props.photo.likes_count)\n\n  useEffect(() => {\n    getLike()\n  }, []);\n\n  function getLike() {\n    console.log(props)\n    axios\n      .get(process.env.REACT_APP_API_URL + `/api/v1/photos/${props.photo.id}/like_status`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n      .then(response => response.data)\n      .then(data => {setLiked(data.status)}) \n      .catch(error => console.log(error.response))\n  }\n\n  const onClick = () => {\n    setLiked(!liked)\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    }\n\n    liked ? onUnlike(headers) : onLike(headers)\n  }\n\n  const onLike = (headers: { 'Content-Type': string; Authorization: string; }) => {\n    axios\n    .post(process.env.REACT_APP_API_URL + `/api/v1/photos/${props.photo.id}/likes`, null,  \n      { headers: headers }\n    )\n    .then(response => {\n      setLiked(true);\n      setLikeCount(like_count + 1)\n    })\n    .catch(error => console.log(error.response.data.error))\n  }\n\n  const onUnlike = (headers: { 'Content-Type': string; Authorization: string; }) => {\n    axios\n    .delete(process.env.REACT_APP_API_URL + `/api/v1/photos/${props.photo.id}/likes`,  \n      { headers: headers }\n    )\n    .then(() => {\n      setLiked(false)\n      setLikeCount(like_count - 1)\n    })\n    .catch(error => console.log(error.response.data.error))\n  }\n\n  return ( \n    <>\n    <button onClick={onClick} className='Like-button'>\n      { liked ? <RiThumbUpFill /> : <RiThumbUpLine />}      \n    </button>\n    \n    {like_count}\n    </>\n  )\n}","import { useEffect, useState } from 'react';\nimport { TiDelete } from 'react-icons/ti';\nimport {Like} from './Like'\nimport axios from 'axios';\nimport { useAuth } from '../hooks/use-auth';\n\nexport function Photo(props: any) {\n  const {user_id} = useAuth()\n\n  const onClick = () => {\n    if (window.confirm('Are you sure?')) {\n      props.deletePhoto(props.photo)\n    }\n  }\n\n  return (\n    <div className=\"card\">\n      {\n        user_id == props.photo.user_id ? (\n          <button \n            className='Photo-delete-button'\n            onClick={onClick}\n          >\n            <TiDelete size={20}/>\n          </button>\n        ) : (\n          <div></div>\n        )\n      }\n      <img\n        className=\"card-img-top\"\n        src={process.env.REACT_APP_API_URL + `/${props.photo.image}`}       \n      />\n\n      <div className=\"card-body\">\n        <p className=\"card-text\">{props.photo.name}</p>\n        <Like photo={props.photo}/>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { PhotoForm } from './PhotoForm';\nimport { Photo } from './Photo';\nimport { useAuth } from '../hooks/use-auth';\nimport { IPhoto } from '../types/data'\n\nexport function PhotoList() {\n  const navigate = useNavigate()\n\n  const [photos, setPhotos] = useState<IPhoto[]>([]);\n  let {user_id} = useAuth();  \n  const params = useParams();\n\n  useEffect(() => {\n    getPhotos()\n  }, []);\n\n  const getHeaders = () => {\n    return { \n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    }\n  }\n\n  const getPhotos = async () => {\n    try {\n      const response = await axios\n        .get(process.env.REACT_APP_API_URL + '/api/v1/photos', {\n          params: {\n            user_id: params.user_id ? params.user_id : user_id\n          },\n          headers: getHeaders()\n        })\n      \n      const data = response.data\n      \n      setPhotos(data.reverse())\n\n    } catch(error: any) {\n      console.log(error)\n    } \n  }\n\n  const updatePhotoList = (photo: IPhoto) => {\n    let _photos = photos;\n    _photos.unshift(photo);\n    setPhotos(_photos);\n\n    navigate('/', {replace: true})\n  }\n\n  const updatePhotoListAfterDelete = (photo: IPhoto) => {\n    let _photos = photos;\n    const photoIndex = _photos.indexOf(photo)\n    _photos.splice(photoIndex, 1)\n    setPhotos(_photos)\n  }\n\n  const deletePhoto = async (photo: IPhoto) => {\n    try {\n      const response = await axios\n        .delete(process.env.REACT_APP_API_URL + `/api/v1/photos/${photo.id}`, \n          { headers: getHeaders() }\n        )\n        \n      console.log(response)\n  \n      updatePhotoListAfterDelete(photo)\n  \n      navigate('/', {replace: true})\n\n    } catch(error: any) {\n      console.log(error.response.data.error)\n    } \n  }\n\n  return (\n    <div>\n      <div>\n        <PhotoForm updatePhotoList={updatePhotoList} />\n      </div>\n\n      <div className=\"Photo-list\">\n        {photos.map((photo) => (\n          <Photo \n            key={photo.id}\n            photo={photo}\n            deletePhoto={deletePhoto}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}","import {PhotoList} from '../PhotoList/PhotoList';\n\nexport function Homepage() {\n  return (\n    <div>\n      <PhotoList />\n    </div>\n  );\n}\n","export function NotFound() {\n  return (\n    <div>\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","import { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../hooks/use-auth';\nimport { useDispatch } from 'react-redux';\nimport { removeUser } from '../store/userSlice'\n\nconst Navbar = () => {\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n\n  const {isAuth} = useAuth()\n\n  const onLogOut = () => {\n    dispatch(removeUser());\n    navigate('/', {replace: true})\n  }\n\n  return (\n    <div className=\"container\">\n      <nav className=\"navbar\">\n        \n        <Link to=\"/\" className=\"App-logo\">\n          Photo Api\n        </Link>\n\n        { isAuth ? ( \n        \n          <div className=\"nav-btn d-flex\">          \n            <button onClick={onLogOut} className=\"btn btn-outline-primary me-2\">\n              Log Out\n            </button>\n          </div>\n    \n         \n          ) : (\n\n            <div className=\"nav-btn d-flex\">\n              <Link to=\"/sign_up\" className=\"btn btn-outline-primary me-2\">\n                Sign Up\n              </Link>\n\n              <Link to=\"/sign_in\" className=\"btn btn-primary\">\n                Sign In\n              </Link>\n            </div>\n          )\n        }      \n      </nav>\n    </div>\n  )\n};\n\nexport default Navbar;\n","import { Outlet } from 'react-router-dom'\nimport Navbar from './Navbar'\n\nexport function Layout() {\n  return (\n    <>\n    <Navbar />\n\n    <main className=\"container\">\n      <Outlet />\n    </main>\n    </>\n  )\n}\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport './App.css';\n\nimport {SignIn} from './Pages/SignIn';\nimport {SignUp} from './Pages/SignUp';\nimport {Homepage} from './Pages/Homepage';\nimport {NotFound} from './Pages/NotFound';\nimport {Layout} from './Layout/Layout';\nimport { useAuth } from './hooks/use-auth';\nimport { PhotoList } from './PhotoList/PhotoList';\n\nconst App: React.FC = () => {\n  const {isAuth} = useAuth()\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route index element={<Homepage />} />\n          {\n            !isAuth && \n            <>\n              <Route path=\"sign_in\" element={<SignIn />} />\n              <Route path=\"sign_up\" element={<SignUp />} />\n            </>\n          }\n          <Route path=\"photos/:user_id\" element={<PhotoList />} /> \n          <Route path=\"*\" element={<NotFound />} />\n        </Route>\n      </Routes>\n    </div>\n  )\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport {store} from './store/store'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}